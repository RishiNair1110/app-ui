{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeLayerModel = void 0;\n\nconst react_canvas_core_1 = require(\"@projectstorm/react-canvas-core\");\n\nconst NodeModel_1 = require(\"../node/NodeModel\");\n\nclass NodeLayerModel extends react_canvas_core_1.LayerModel {\n  constructor() {\n    super({\n      type: 'diagram-nodes',\n      isSvg: false,\n      transformed: true\n    });\n  }\n\n  addModel(model) {\n    if (!(model instanceof NodeModel_1.NodeModel)) {\n      throw new Error('Can only add nodes to this layer');\n    }\n\n    model.registerListener({\n      entityRemoved: () => {\n        this.getParent().removeNode(model);\n      }\n    });\n    super.addModel(model);\n  }\n\n  getChildModelFactoryBank(engine) {\n    return engine.getNodeFactories();\n  }\n\n  getNodes() {\n    return this.getModels();\n  }\n\n}\n\nexports.NodeLayerModel = NodeLayerModel;","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AASA,MAAaA,cAAb,SAA+FC,8BAA/F,CAA4G;AAC3GC;AACC,UAAM;AACLC,UAAI,EAAE,eADD;AAELC,WAAK,EAAE,KAFF;AAGLC,iBAAW,EAAE;AAHR,KAAN;AAKA;;AAEDC,UAAQ,CAACC,KAAD,EAAqB;AAC5B,QAAI,EAAEA,KAAK,YAAYC,qBAAnB,CAAJ,EAAmC;AAClC,YAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACA;;AACDF,SAAK,CAACG,gBAAN,CAAuB;AACtBC,mBAAa,EAAE,MAAK;AAClB,aAAKC,SAAL,GAAkCC,UAAlC,CAA6CN,KAA7C;AACD;AAHqB,KAAvB;AAKA,UAAMD,QAAN,CAAeC,KAAf;AACA;;AAEDO,0BAAwB,CAACC,MAAD,EAAoB;AAC3C,WAAOA,MAAM,CAACC,gBAAP,EAAP;AACA;;AAEDC,UAAQ;AACP,WAAO,KAAKC,SAAL,EAAP;AACA;;AA3B0G;;AAA5GC","names":["NodeLayerModel","react_canvas_core_1","constructor","type","isSvg","transformed","addModel","model","NodeModel_1","Error","registerListener","entityRemoved","getParent","removeNode","getChildModelFactoryBank","engine","getNodeFactories","getNodes","getModels","exports"],"sources":["C:\\Users\\nairr\\app-ui\\app-ui\\node_modules\\@projectstorm\\react-diagrams-core\\src\\entities\\node-layer\\NodeLayerModel.ts"],"sourcesContent":["import { LayerModel, LayerModelGenerics } from '@projectstorm/react-canvas-core';\nimport { NodeModel } from '../node/NodeModel';\nimport { DiagramEngine } from '../../DiagramEngine';\nimport { DiagramModel } from '../../models/DiagramModel';\n\nexport interface NodeLayerModelGenerics extends LayerModelGenerics {\n\tCHILDREN: NodeModel;\n\tENGINE: DiagramEngine;\n}\n\nexport class NodeLayerModel<G extends NodeLayerModelGenerics = NodeLayerModelGenerics> extends LayerModel<G> {\n\tconstructor() {\n\t\tsuper({\n\t\t\ttype: 'diagram-nodes',\n\t\t\tisSvg: false,\n\t\t\ttransformed: true\n\t\t});\n\t}\n\n\taddModel(model: G['CHILDREN']): void {\n\t\tif (!(model instanceof NodeModel)) {\n\t\t\tthrow new Error('Can only add nodes to this layer');\n\t\t}\n\t\tmodel.registerListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\t(this.getParent() as DiagramModel).removeNode(model);\n\t\t\t}\n\t\t});\n\t\tsuper.addModel(model);\n\t}\n\n\tgetChildModelFactoryBank(engine: G['ENGINE']) {\n\t\treturn engine.getNodeFactories();\n\t}\n\n\tgetNodes() {\n\t\treturn this.getModels();\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}