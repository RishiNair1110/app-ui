{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectingState = void 0;\n\nconst State_1 = require(\"../core-state/State\");\n\nconst Action_1 = require(\"../core-actions/Action\");\n\nconst SelectionBoxState_1 = require(\"./SelectionBoxState\");\n\nclass SelectingState extends State_1.State {\n  constructor() {\n    super({\n      name: 'selecting'\n    });\n    this.keys = ['shift'];\n    this.registerAction(new Action_1.Action({\n      type: Action_1.InputType.MOUSE_DOWN,\n      fire: event => {\n        const element = this.engine.getActionEventBus().getModelForEvent(event); // go into a selection box on the canvas state\n\n        if (!element) {\n          this.transitionWithEvent(new SelectionBoxState_1.SelectionBoxState(), event);\n        } else {\n          element.setSelected(true);\n          this.engine.repaintCanvas();\n        }\n      }\n    }));\n  }\n\n}\n\nexports.SelectingState = SelectingState;","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA,MAAaA,cAAb,SAAoCC,aAApC,CAAyC;AACxCC;AACC,UAAM;AACLC,UAAI,EAAE;AADD,KAAN;AAGA,SAAKC,IAAL,GAAY,CAAC,OAAD,CAAZ;AAEA,SAAKC,cAAL,CACC,IAAIC,eAAJ,CAAW;AACVC,UAAI,EAAED,mBAAUE,UADN;AAEVC,UAAI,EAAGC,KAAD,IAAmC;AACxC,cAAMC,OAAO,GAAG,KAAKC,MAAL,CAAYC,iBAAZ,GAAgCC,gBAAhC,CAAiDJ,KAAjD,CAAhB,CADwC,CAGxC;;AACA,YAAI,CAACC,OAAL,EAAc;AACb,eAAKI,mBAAL,CAAyB,IAAIC,qCAAJ,EAAzB,EAAkDN,KAAlD;AACA,SAFD,MAEO;AACNC,iBAAO,CAACM,WAAR,CAAoB,IAApB;AACA,eAAKL,MAAL,CAAYM,aAAZ;AACA;AACD;AAZS,KAAX,CADD;AAgBA;;AAvBuC;;AAAzCC","names":["SelectingState","State_1","constructor","name","keys","registerAction","Action_1","type","MOUSE_DOWN","fire","event","element","engine","getActionEventBus","getModelForEvent","transitionWithEvent","SelectionBoxState_1","setSelected","repaintCanvas","exports"],"sources":["C:\\Users\\nairr\\app-ui\\app-ui\\node_modules\\@projectstorm\\react-canvas-core\\src\\states\\SelectingState.ts"],"sourcesContent":["import { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { SelectionBoxState } from './SelectionBoxState';\nimport { MouseEvent } from 'react';\n\nexport class SelectingState extends State {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'selecting'\n\t\t});\n\t\tthis.keys = ['shift'];\n\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\n\t\t\t\t\t// go into a selection box on the canvas state\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\tthis.transitionWithEvent(new SelectionBoxState(), event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.setSelected(true);\n\t\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}