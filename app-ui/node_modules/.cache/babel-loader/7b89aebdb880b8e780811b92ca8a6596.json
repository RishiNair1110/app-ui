{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkLayerModel = void 0;\n\nconst react_canvas_core_1 = require(\"@projectstorm/react-canvas-core\");\n\nconst LinkModel_1 = require(\"../link/LinkModel\");\n\nclass LinkLayerModel extends react_canvas_core_1.LayerModel {\n  constructor() {\n    super({\n      type: 'diagram-links',\n      isSvg: true,\n      transformed: true\n    });\n  }\n\n  addModel(model) {\n    if (!(model instanceof LinkModel_1.LinkModel)) {\n      throw new Error('Can only add links to this layer');\n    }\n\n    model.registerListener({\n      entityRemoved: () => {\n        this.getParent().removeLink(model);\n      }\n    });\n    super.addModel(model);\n  }\n\n  getLinks() {\n    return this.getModels();\n  }\n\n  getChildModelFactoryBank(engine) {\n    return engine.getLinkFactories();\n  }\n\n}\n\nexports.LinkLayerModel = LinkLayerModel;","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AASA,MAAaA,cAAb,SAA+FC,8BAA/F,CAA4G;AAC3GC;AACC,UAAM;AACLC,UAAI,EAAE,eADD;AAELC,WAAK,EAAE,IAFF;AAGLC,iBAAW,EAAE;AAHR,KAAN;AAKA;;AAEDC,UAAQ,CAACC,KAAD,EAAqB;AAC5B,QAAI,EAAEA,KAAK,YAAYC,qBAAnB,CAAJ,EAAmC;AAClC,YAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACA;;AACDF,SAAK,CAACG,gBAAN,CAAuB;AACtBC,mBAAa,EAAE,MAAK;AAClB,aAAKC,SAAL,GAAkCC,UAAlC,CAA6CN,KAA7C;AACD;AAHqB,KAAvB;AAKA,UAAMD,QAAN,CAAeC,KAAf;AACA;;AAEDO,UAAQ;AACP,WAAO,KAAKC,SAAL,EAAP;AACA;;AAEDC,0BAAwB,CAACC,MAAD,EAAoB;AAC3C,WAAOA,MAAM,CAACC,gBAAP,EAAP;AACA;;AA3B0G;;AAA5GC","names":["LinkLayerModel","react_canvas_core_1","constructor","type","isSvg","transformed","addModel","model","LinkModel_1","Error","registerListener","entityRemoved","getParent","removeLink","getLinks","getModels","getChildModelFactoryBank","engine","getLinkFactories","exports"],"sources":["C:\\Users\\nairr\\app-ui\\app-ui\\node_modules\\@projectstorm\\react-diagrams-core\\src\\entities\\link-layer\\LinkLayerModel.ts"],"sourcesContent":["import { LayerModel, LayerModelGenerics } from '@projectstorm/react-canvas-core';\nimport { LinkModel } from '../link/LinkModel';\nimport { DiagramEngine } from '../../DiagramEngine';\nimport { DiagramModel } from '../../models/DiagramModel';\n\nexport interface LinkLayerModelGenerics extends LayerModelGenerics {\n\tCHILDREN: LinkModel;\n\tENGINE: DiagramEngine;\n}\n\nexport class LinkLayerModel<G extends LinkLayerModelGenerics = LinkLayerModelGenerics> extends LayerModel<G> {\n\tconstructor() {\n\t\tsuper({\n\t\t\ttype: 'diagram-links',\n\t\t\tisSvg: true,\n\t\t\ttransformed: true\n\t\t});\n\t}\n\n\taddModel(model: G['CHILDREN']): void {\n\t\tif (!(model instanceof LinkModel)) {\n\t\t\tthrow new Error('Can only add links to this layer');\n\t\t}\n\t\tmodel.registerListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\t(this.getParent() as DiagramModel).removeLink(model);\n\t\t\t}\n\t\t});\n\t\tsuper.addModel(model);\n\t}\n\n\tgetLinks() {\n\t\treturn this.getModels();\n\t}\n\n\tgetChildModelFactoryBank(engine: G['ENGINE']) {\n\t\treturn engine.getLinkFactories();\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}