{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar sq = function sq(x) {\n  return x * x;\n};\n\nvar distPointToPoint = function distPointToPoint(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var ax = _ref2[0];\n  var ay = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var bx = _ref32[0];\n  var by = _ref32[1];\n  return Math.sqrt(sq(ax - bx) + sq(ay - by));\n};\n\nvar distPointToParabol = function distPointToParabol(a, f) {\n  var p = distPointToPoint(a, f);\n  return p == 0 ? Infinity : sq(p) / (2 * Math.abs(a[1] - f[1]));\n};\n\nvar circumCenter = function circumCenter(a, b, c) {\n  var d = (a[0] - c[0]) * (b[1] - c[1]) - (b[0] - c[0]) * (a[1] - c[1]);\n  if (d == 0) return [Infinity, Infinity];\n  var xc = (((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[1] - c[1]) - ((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[1] - c[1])) / d;\n  var yc = (((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[0] - c[0]) - ((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[0] - c[0])) / d;\n  return [xc, yc];\n};\n\nvar parabolsCrossX = function parabolsCrossX(fa, fb, q) {\n  if (fa[1] === fb[1]) return [(fa[0] + fb[0]) / 2, (fa[0] + fb[0]) / 2];\n  var s1 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q + Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n  var s2 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q - Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n  return s1 < s2 ? [s1, s2] : [s2, s1];\n};\n\nvar doHalflinesCross = function doHalflinesCross(sa, sb) {\n  var approx = arguments.length <= 2 || arguments[2] === undefined ? 1e-10 : arguments[2]; //sa, sb are Segment instance\n\n  var dx = sb.ps[0] - sa.ps[0];\n  var dy = sb.ps[1] - sa.ps[1];\n  if (sa.m == Infinity) return sa.hp * (sb.m * dx - dy) <= approx && sb.vec[0] * dx <= approx;\n  if (sb.m == Infinity) return sb.hp * (sa.m * dx - dy) >= -approx && sa.vec[0] * dx >= -approx;\n  var det = sb.vec[0] * sa.vec[1] - sb.vec[1] * sa.vec[0];\n  if (det === 0) return false;\n  var u = (dy * sb.vec[0] - dx * sb.vec[1]) / det;\n  var v = (dy * sa.vec[0] - dx * sa.vec[1]) / det;\n  return u >= -approx && v >= approx || u >= approx && v >= -approx;\n};\n\nvar matrixTransform = function matrixTransform(points, matrix) {\n  return points.map(function (point) {\n    return {\n      x: point.x * matrix[0] + point.y * matrix[2] + matrix[4],\n      y: point.x * matrix[1] + point.y * matrix[3] + matrix[5]\n    };\n  });\n};\n\nvar transformEllipse = function transformEllipse(rx, ry, ax, m) {\n  var torad = Math.PI / 180;\n  var epsilon = 0.0000000001;\n  var c = Math.cos(ax * torad),\n      s = Math.sin(ax * torad);\n  var ma = [rx * (m[0] * c + m[2] * s), rx * (m[1] * c + m[3] * s), ry * (-m[0] * s + m[2] * c), ry * (-m[1] * s + m[3] * c)];\n  var J = ma[0] * ma[0] + ma[2] * ma[2],\n      K = ma[1] * ma[1] + ma[3] * ma[3];\n  var D = ((ma[0] - ma[3]) * (ma[0] - ma[3]) + (ma[2] + ma[1]) * (ma[2] + ma[1])) * ((ma[0] + ma[3]) * (ma[0] + ma[3]) + (ma[2] - ma[1]) * (ma[2] - ma[1]));\n  var JK = (J + K) / 2;\n\n  if (D < epsilon * JK) {\n    return {\n      rx: Math.sqrt(JK),\n      ry: Math.sqrt(JK),\n      ax: 0,\n      isDegenerate: false\n    };\n  }\n\n  var L = ma[0] * ma[1] + ma[2] * ma[3];\n  D = Math.sqrt(D);\n  var l1 = JK + D / 2,\n      l2 = JK - D / 2;\n  var newAx = undefined,\n      newRx = undefined,\n      newRy = undefined;\n  newAx = Math.abs(L) < epsilon && Math.abs(l1 - K) < epsilon ? 90 : Math.atan(Math.abs(L) > Math.abs(l1 - K) ? (l1 - J) / L : L / (l1 - K)) * 180 / Math.PI;\n\n  if (newAx >= 0) {\n    newRx = Math.sqrt(l1);\n    newRy = Math.sqrt(l2);\n  } else {\n    newAx += 90;\n    newRx = Math.sqrt(l2);\n    newRy = Math.sqrt(l1);\n  }\n\n  return {\n    rx: newRx,\n    ry: newRy,\n    ax: newAx,\n    isDegenerate: newRx < epsilon * newRy || newRy < epsilon * newRx\n  };\n};\n\nexports[\"default\"] = {\n  distPointToPoint: distPointToPoint,\n  distPointToParabol: distPointToParabol,\n  circumCenter: circumCenter,\n  parabolsCrossX: parabolsCrossX,\n  doHalflinesCross: doHalflinesCross,\n  matrixTransform: matrixTransform,\n  transformEllipse: transformEllipse\n};\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Users/nairr/app-ui/app-ui/node_modules/paths-js/geom.js"],"names":["Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","sq","x","distPointToPoint","_ref","_ref3","_ref2","ax","ay","_ref32","bx","by","Math","sqrt","distPointToParabol","a","f","p","Infinity","abs","circumCenter","b","c","d","xc","yc","parabolsCrossX","fa","fb","q","s1","s2","doHalflinesCross","sa","sb","approx","arguments","dx","ps","dy","m","hp","vec","det","u","v","matrixTransform","points","matrix","map","point","y","transformEllipse","rx","ry","torad","PI","epsilon","cos","s","sin","ma","J","K","D","JK","isDegenerate","L","l1","l2","newAx","newRx","newRy","atan","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sq = function sq(x) {\n  return x * x;\n};\n\nvar distPointToPoint = function distPointToPoint(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var ax = _ref2[0];\n  var ay = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var bx = _ref32[0];\n  var by = _ref32[1];\n  return Math.sqrt(sq(ax - bx) + sq(ay - by));\n};\n\nvar distPointToParabol = function distPointToParabol(a, f) {\n  var p = distPointToPoint(a, f);\n\n  return p == 0 ? Infinity : sq(p) / (2 * Math.abs(a[1] - f[1]));\n};\n\nvar circumCenter = function circumCenter(a, b, c) {\n  var d = (a[0] - c[0]) * (b[1] - c[1]) - (b[0] - c[0]) * (a[1] - c[1]);\n\n  if (d == 0) return [Infinity, Infinity];\n\n  var xc = (((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[1] - c[1]) - ((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[1] - c[1])) / d;\n  var yc = (((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[0] - c[0]) - ((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[0] - c[0])) / d;\n  return [xc, yc];\n};\n\nvar parabolsCrossX = function parabolsCrossX(fa, fb, q) {\n  if (fa[1] === fb[1]) return [(fa[0] + fb[0]) / 2, (fa[0] + fb[0]) / 2];\n\n  var s1 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q + Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n  var s2 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q - Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n\n  return s1 < s2 ? [s1, s2] : [s2, s1];\n};\n\nvar doHalflinesCross = function doHalflinesCross(sa, sb) {\n  var approx = arguments.length <= 2 || arguments[2] === undefined ? 1e-10 : arguments[2];\n  //sa, sb are Segment instance\n  var dx = sb.ps[0] - sa.ps[0];\n  var dy = sb.ps[1] - sa.ps[1];\n\n  if (sa.m == Infinity) return sa.hp * (sb.m * dx - dy) <= approx && sb.vec[0] * dx <= approx;\n  if (sb.m == Infinity) return sb.hp * (sa.m * dx - dy) >= -approx && sa.vec[0] * dx >= -approx;\n\n  var det = sb.vec[0] * sa.vec[1] - sb.vec[1] * sa.vec[0];\n\n  if (det === 0) return false;\n\n  var u = (dy * sb.vec[0] - dx * sb.vec[1]) / det;\n  var v = (dy * sa.vec[0] - dx * sa.vec[1]) / det;\n\n  return u >= -approx && v >= approx || u >= approx && v >= -approx;\n};\n\nvar matrixTransform = function matrixTransform(points, matrix) {\n  return points.map(function (point) {\n    return {\n      x: point.x * matrix[0] + point.y * matrix[2] + matrix[4],\n      y: point.x * matrix[1] + point.y * matrix[3] + matrix[5]\n    };\n  });\n};\n\nvar transformEllipse = function transformEllipse(rx, ry, ax, m) {\n  var torad = Math.PI / 180;\n  var epsilon = 0.0000000001;\n\n  var c = Math.cos(ax * torad),\n      s = Math.sin(ax * torad);\n  var ma = [rx * (m[0] * c + m[2] * s), rx * (m[1] * c + m[3] * s), ry * (-m[0] * s + m[2] * c), ry * (-m[1] * s + m[3] * c)];\n\n  var J = ma[0] * ma[0] + ma[2] * ma[2],\n      K = ma[1] * ma[1] + ma[3] * ma[3];\n\n  var D = ((ma[0] - ma[3]) * (ma[0] - ma[3]) + (ma[2] + ma[1]) * (ma[2] + ma[1])) * ((ma[0] + ma[3]) * (ma[0] + ma[3]) + (ma[2] - ma[1]) * (ma[2] - ma[1]));\n\n  var JK = (J + K) / 2;\n\n  if (D < epsilon * JK) {\n    return {\n      rx: Math.sqrt(JK),\n      ry: Math.sqrt(JK),\n      ax: 0,\n      isDegenerate: false\n    };\n  }\n\n  var L = ma[0] * ma[1] + ma[2] * ma[3];\n  D = Math.sqrt(D);\n\n  var l1 = JK + D / 2,\n      l2 = JK - D / 2;\n\n  var newAx = undefined,\n      newRx = undefined,\n      newRy = undefined;\n  newAx = Math.abs(L) < epsilon && Math.abs(l1 - K) < epsilon ? 90 : Math.atan(Math.abs(L) > Math.abs(l1 - K) ? (l1 - J) / L : L / (l1 - K)) * 180 / Math.PI;\n\n  if (newAx >= 0) {\n    newRx = Math.sqrt(l1);\n    newRy = Math.sqrt(l2);\n  } else {\n    newAx += 90;\n    newRx = Math.sqrt(l2);\n    newRy = Math.sqrt(l1);\n  }\n\n  return {\n    rx: newRx,\n    ry: newRy,\n    ax: newAx,\n    isDegenerate: newRx < epsilon * newRy || newRy < epsilon * newRx\n  };\n};\n\nexports[\"default\"] = { distPointToPoint: distPointToPoint, distPointToParabol: distPointToParabol, circumCenter: circumCenter,\n  parabolsCrossX: parabolsCrossX, doHalflinesCross: doHalflinesCross, matrixTransform: matrixTransform, transformEllipse: transformEllipse };\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}